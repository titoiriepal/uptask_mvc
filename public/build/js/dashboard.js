let proyectos=[],proyectosActivos=[],proyectosInactivos=[];async function iniciarApp(){await traerProyectos(),crearObjetosProyectos(),mostrarProyectos(proyectosActivos),opcionesDashboard()}function mostrarProyectos(o){const t=document.querySelector(".listado-proyectos");t.innerHTML="",o.forEach((o=>{const{proyecto:e,url:r}=o,c=document.createElement("li");c.classList.add("proyecto"),c.innerHTML=`<a href="/proyecto?url=${r}">${e}</a>`,t.appendChild(c)}))}async function traerProyectos(){const o=document.querySelector("#propietarioId"),t=new FormData;t.append("propietarioId",o.value);try{const o=`${location.origin}/api/proyectos`,e=await fetch(o,{method:"POST",body:t});proyectos=await e.json()}catch(o){console.log(o)}}function crearObjetosProyectos(){proyectos.forEach((o=>{"1"===o.activo?proyectosActivos.push(o):proyectosInactivos.push(o)}))}function opcionesDashboard(){document.querySelectorAll('input[name="option-dashboard"]').forEach((o=>{o.addEventListener("input",(()=>{"inactivas"===o.value?mostrarProyectos(proyectosInactivos):"activas"===o.value?mostrarProyectos(proyectosActivos):mostrarProyectos(proyectos)}))}))}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));